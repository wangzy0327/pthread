# pthread 多线程

### 什么是线程

```
线程对应的英文名称为"thread"，它的功能是执行应用程序中的某个具体任务，比如一段程序、一个函数等
每个进程执行前，操作系统都会为其分配所需的资源，包括要执行的程序代码、数据、内存空间、文件资源等。一个进程至少包含 1 个线程，可以包含多个线程，所有线程共享进程的资源，各个线程也可以拥有属于自己的私有资源。
进程仅负责为各个线程提供所需的资源，真正执行任务的是线程，而不是进程

```

### 进程与线程之间的关系如下图

![img](imgs/thread.jpg "进程与线程之间的关系")

### 第一个线程

**[示例代码](00_first_thread/thread.c)**

### 创建线程

**[示例代码](01_create_thread/thread.c)**

### 终止线程

**[示例代码](02_exit_thread/thread.c)**

**[示例代码](03_cancel_thread/thread.c)**

1. 执行完毕，自行终止
2. 执行过程中遇到pthread_exit()或return 终止
3. 执行过程中，接收其他线程"终止执行"信号，终止

### 获取线程函数的返回值

### 终止线程执行的坑

### 线程同步机制

### 使用互斥锁实现线程同步

### 使用信号量实现线程同步

### 使用条件变量实现线程同步

### 使用读写锁实现线程同步

### 避免线程发生死锁

### 线程属性（自定义线程属性）

### 使用C++11进行多线程编程

### 将Linux多线程程序移植到Windows
